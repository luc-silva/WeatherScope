(()=>{"use strict";let e=function(){let e=()=>document.createElement("div");return setInterval(t,3e3),{createSearchContainer:function(){let t=e();t.id="clock-search-container";let n=e();n.id="search-container";let r=document.createElement("input");r.placeholder="Type a city here...";let a=document.createElement("button");a.textContent="Search",n.append(r,a);let c=e(),o=document.createElement("strong");return o.id="weather-clock",c.append(o),t.append(n,c),t},changeBackground:function(e){document.querySelector("#weather-app-image").style.backgroundImage=`url(${e})`}}}();function t(){let e=new Date,t=e.getHours(),n=e.getMinutes(),r=document.querySelector("#weather-clock");console.log(`${t}:${n}`),r.textContent=`${t}:${n}`}let n=function(){let t=document.querySelector("#main-container");t.textContent="";let n=e.createSearchContainer();t.append(n)},r={temperatureUnit:"metric",city:"London"};async function a(e="London",t="metric"){try{let n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=67556afc5b803ebc6540b49ddb13c6a3&units=${t}`),r=await n.json();return console.log(r),r}catch(e){throw new Error(`Wasn't possible to fetch data from API. ${e}`)}}!async function(){let t=document.querySelector("#weather-temperature"),o=await a(),i=async function(){"metric"==r.temperatureUnit?(r.temperatureUnit="imperial",o=await a(r.city,r.temperatureUnit),t.textContent=`${o.main.temp}°F`):(r.temperatureUnit="metric",o=await a(r.city,r.temperatureUnit),t.textContent=`${o.main.temp}°C`),u(),l()},u=function(){let t=document.querySelector("#weather-status"),n=o.weather[0].description;n=c(n),t.textContent=`${n}`,console.log(o.weather[0].main),"Rain"===o.weather[0].main?e.changeBackground("../src/img/raining.jpg"):e.changeBackground("../src/img/clear.jpg")},l=function(){document.querySelector("#weather-city").textContent=o.name};document.querySelector("#settings-button"),document.querySelector("#weather-tab-btn").addEventListener("click",n),t.addEventListener("click",i),i(),updateClock()}();let c=e=>{e=e.split(" ");let t=[];return e.forEach((e=>{(e=e.split(""))[0]=e[0].toUpperCase(),e=e.join(""),t.push(e)})),t=t.join(" "),t}})();