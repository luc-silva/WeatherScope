(()=>{"use strict";const e=async function(e="London",t="metric"){try{let n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=67556afc5b803ebc6540b49ddb13c6a3&units=${t}`),a=await n.json();return console.log(a),a}catch(e){throw new Error(`Wasn't possible to fetch data from API. ${e}`)}};let t=function(){let e=()=>document.createElement("div");return{createSearchContainer:function(){let t=e();t.id="clock-search-container";let n=e();n.id="search-container";let a=document.createElement("input");a.placeholder="Type a city here...";let r=document.createElement("button");r.textContent="Search",n.append(a,r);let c=document.createElement("strong");c.id="weather-clock";let o=e();return o.append(c),t.append(n,o),t},changeBackground:function(e){document.querySelector("#weather-app-image").style.backgroundImage=`url(${e})`},updateClock:function(){setInterval(n,3e3)},createWeatherCardContainer:function(){let t=e();return t.id="weather-card-container",t},createWeatherCard:function(t){let n=e();return n.classList.add("weather-card"),n.innerHTML=`\n        <span class="weather-card-city">${t.name}, ${t.sys.country}</span>\n        <div class="weather-card-status-container">\n            <div class="weather-card-status">\n                <span>${Math.round(t.main.temp)}째C</span> /\n                <span>${Math.round(1.8*t.main.temp+32)}째F</span>\n            </div>\n            <div class="weather-card-condition">\n                ${t.weather[0].description}\n                <img src="http://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png"></img>\n            </div>\n        </div>`,n}}}();function n(){let e=new Date,t=e.getHours(),n=e.getMinutes();n<10&&(n="0"+n),document.querySelector("#weather-clock").textContent=`${t}:${n}`}let a=async function(){let n=document.querySelector("#main-container");n.textContent="";let a=t.createSearchContainer(),r=t.createWeatherCardContainer();n.append(a,r),t.updateClock();let c=["London","Brasilia","Washington","Berlin","Moscow","Tokyo","Mexico City"];for(let n=0;n<c.length;n++){let a=await e(c[n]),r=t.createWeatherCard(a);document.querySelector("#weather-card-container").append(r)}},r={temperatureUnit:"metric",city:"London"},c=(async function(){let n=document.querySelector("#weather-temperature"),o=await e(),i=async function(){"metric"==r.temperatureUnit?(r.temperatureUnit="imperial",o=await e(r.city,r.temperatureUnit),n.textContent=`${o.main.temp}째F`):(r.temperatureUnit="metric",o=await e(r.city,r.temperatureUnit),n.textContent=`${o.main.temp}째C`),u(),s()},u=function(){let e=document.querySelector("#weather-status"),n=o.weather[0].description;switch(n=c(n),e.textContent=`${n}`,o.weather[0].main){case"Rain":t.changeBackground("../src/img/raining.jpg");break;case"Thunderstorm":t.changeBackground("../src/img/thunderstorm.jpg");break;case"Clouds":t.changeBackground("../src/img/cloudy.jpg");break;case"Snow":t.changeBackground("../src/img/snow.jpg");break;case"Drizzle":t.changeBackground("../src/img/drizzle.jpg");break;default:t.changeBackground("../src/img/clear.jpg")}},s=function(){document.querySelector("#weather-city").textContent=o.name};document.querySelector("#settings-button"),document.querySelector("#weather-tab-btn").addEventListener("click",a),n.addEventListener("click",i),i()}(),e=>{e=e.split(" ");let t=[];return e.forEach((e=>{(e=e.split(""))[0]=e[0].toUpperCase(),e=e.join(""),t.push(e)})),t=t.join(" "),t})})();